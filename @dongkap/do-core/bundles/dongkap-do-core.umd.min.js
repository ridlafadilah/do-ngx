!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/common/http"),require("@ngx-translate/core"),require("rxjs"),require("rxjs/operators"),require("@angular/router"),require("@nebular/theme"),require("@ngx-translate/http-loader"),require("crypto-js")):"function"==typeof define&&define.amd?define("@dongkap/do-core",["exports","@angular/core","@angular/common","@angular/common/http","@ngx-translate/core","rxjs","rxjs/operators","@angular/router","@nebular/theme","@ngx-translate/http-loader","crypto-js"],t):t(((e=e||self).dongkap=e.dongkap||{},e.dongkap["do-core"]={}),e.ng.core,e.ng.common,e.ng.common.http,e["@ngx-translate/core"],e.rxjs,e.rxjs.operators,e.ng.router,e["@nebular/theme"],e["@ngx-translate/http-loader"],e["crypto-js"])}(this,(function(e,t,n,r,o,a,i,s,u,c,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function R(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}Object.create;var S,h=function(){function e(){this.layoutSize$=new a.Subject,this.layoutSizeChange$=this.layoutSize$.pipe(i.shareReplay({refCount:!0}))}return e.prototype.changeLayoutSize=function(){this.layoutSize$.next()},e.prototype.onChangeLayoutSize=function(){return this.layoutSizeChange$.pipe(i.delay(1))},e.prototype.onSafeChangeLayoutSize=function(){return this.layoutSizeChange$.pipe(i.debounceTime(350))},e.decorators=[{type:t.Injectable}],e}(),E=function(){function e(e,t){this.location=e,this.router=t,this.enabled=!1}return e.prototype.trackPageViews=function(){var e=this;this.enabled&&this.router.events.pipe(i.filter((function(e){return e instanceof s.NavigationEnd}))).subscribe((function(){ga("send",{hitType:"pageview",page:e.location.path()})}))},e.prototype.trackEvent=function(e){this.enabled&&ga("send","event",e)},e.ctorParameters=function(){return[{type:n.Location},{type:s.Router}]},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:n.Location},{type:s.Router}]},e}(),f=function(){function e(e){var t=this;this.layouts=[{name:"One Column",icon:"nb-layout-default",id:"one-column",selected:!0},{name:"Two Column",icon:"nb-layout-two-column",id:"two-column"},{name:"Center Column",icon:"nb-layout-centre",id:"center-column"}],this.sidebars=[{name:"Sidebar at layout start",icon:"nb-layout-sidebar-left",id:"start",selected:!0},{name:"Sidebar at layout end",icon:"nb-layout-sidebar-right",id:"end"}],this.layoutState$=new a.BehaviorSubject(this.layouts[0]),this.sidebarState$=new a.BehaviorSubject(this.sidebars[0]),this.alive=!0,e.onDirectionChange().pipe(i.takeWhile((function(){return t.alive}))).subscribe((function(e){return t.updateSidebarIcons(e)})),this.updateSidebarIcons(e.getDirection())}return e.prototype.ngOnDestroy=function(){this.alive=!1},e.prototype.updateSidebarIcons=function(e){var t=y(this.sidebars,2),n=t[0],r=t[1],o=e===u.NbLayoutDirection.LTR,a=o?"nb-layout-sidebar-left":"nb-layout-sidebar-right",i=o?"nb-layout-sidebar-right":"nb-layout-sidebar-left";n.icon=a,r.icon=i},e.prototype.setLayoutState=function(e){this.layoutState$.next(e)},e.prototype.getLayoutStates=function(){return a.of(this.layouts)},e.prototype.onLayoutState=function(){return this.layoutState$.asObservable()},e.prototype.setSidebarState=function(e){this.sidebarState$.next(e)},e.prototype.getSidebarStates=function(){return a.of(this.sidebars)},e.prototype.onSidebarState=function(){return this.sidebarState$.asObservable()},e.ctorParameters=function(){return[{type:u.NbLayoutDirectionService}]},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:u.NbLayoutDirectionService}]},e}(),_=function(){function e(e,t,r){this.router=e,this.destroy$=new a.Subject,this.isBrowser=n.isPlatformBrowser(r),this.dom=t,this.isBrowser&&this.createCanonicalTag()}return e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.createCanonicalTag=function(){this.linkCanonical=this.dom.createElement("link"),this.linkCanonical.setAttribute("rel","canonical"),this.dom.head.appendChild(this.linkCanonical),this.linkCanonical.setAttribute("href",this.getCanonicalUrl())},e.prototype.trackCanonicalChanges=function(){var e=this;this.isBrowser&&this.router.events.pipe(i.filter((function(e){return e instanceof s.NavigationEnd})),i.takeUntil(this.destroy$)).subscribe((function(){e.linkCanonical.setAttribute("href",e.getCanonicalUrl())}))},e.prototype.getCanonicalUrl=function(){return this.dom.location.origin+this.dom.location.pathname},e.ctorParameters=function(){return[{type:s.Router},{type:void 0,decorators:[{type:t.Inject,args:[u.NB_DOCUMENT]}]},{type:void 0,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:s.Router},{type:void 0,decorators:[{type:t.Inject,args:[u.NB_DOCUMENT]}]},{type:void 0,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]},e}(),O=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return d(t,e),t.prototype.getTranslation=function(t){return e.prototype.getTranslation.call(this,t)},t}(c.TranslateHttpLoader),T=new t.InjectionToken("Http Service"),m=function(){function e(){}return e.prototype.API=function(e,t){var n=e.server.protocol+"://"+e.server.host+(e.server.port?":"+e.server.port:"")+e.path;return t&&t.forEach((function(e){n=n+"/"+e})),n},e}();(S=e.ResponseCode||(e.ResponseCode={})).ERR_XXAKEY="ERR_XXAKEY",S.ERR_XXATIMESTAMP="ERR_XXATIMESTAMP",S.ERR_XXASIGNATURE="ERR_XXASIGNATURE",S.ERR_UNAUTHORIZED="ERR_UNAUTHORIZED",S.ERR_SYS0001="ERR_SYS0001",S.ERR_SYS0002="ERR_SYS0002",S.ERR_SYS0500="ERR_SYS0500",S.ERR_SYS0404="ERR_SYS0404",S.ERR_SYS0501="ERR_SYS0501",S.ERR_SYS0502="ERR_SYS0502",S.ERR_SYS0302="ERR_SYS0302",S.ERR_SCR0001="ERR_SCR0001",S.ERR_SCR0002="ERR_SCR0002",S.ERR_SCR0003="ERR_SCR0003",S.ERR_SCR0004="ERR_SCR0004",S.ERR_SCR0005="ERR_SCR0005",S.ERR_SCR0006="ERR_SCR0006",S.ERR_SCR0007A="ERR_SCR0007A",S.ERR_SCR0007B="ERR_SCR0007B",S.ERR_SCR0008="ERR_SCR0008",S.ERR_SCR0009="ERR_SCR0009",S.ERR_SCR0010="ERR_SCR0010",S.ERR_SCR0011="ERR_SCR0011",S.ERR_SCR0012="ERR_SCR0012",S.OK_DEFAULT="OK_DEFAULT",S.OK_INSERTED="OK_INSERTED",S.OK_UPDATED="OK_UPDATED",S.OK_DELETED="OK_DELETED",S.OK_LOGOUT="OK_LOGOUT",S.OK_REGISTERED="OK_REGISTERED",S.OK_REQUEST_FORGOT_PASSWORD="OK_REQUEST_FORGOT_PASSWORD",S.OK_FORGOT_PASSWORD="OK_FORGOT_PASSWORD",S.OK_SCR001="OK_SCR001",S.OK_SCR002="OK_SCR002",S.OK_SCR003="OK_SCR003",S.OK_SCR004="OK_SCR004",S.OK_SCR005="OK_SCR005",S.OK_SCR006="OK_SCR006",S.OK_SCR007="OK_SCR007",S.OK_SCR008="OK_SCR008",S.OK_SCR009="OK_SCR009",S.OK_SCR010="OK_SCR010",S.OK_SCR011="OK_SCR011",S.OK_SCR012="OK_SCR012";var g,C=function(){this.production=!0,this.locale="en-US",this.basePath="/"};(g=e.HttpMethod||(e.HttpMethod={})).POST="POST",g.GET="GET",g.PUT="PUT",g.DELETE="DELETE";var D,b=function(){this.protocol="https"},A=function(){},v=function(){},I=function(){},P=function(){},k={access_token:"access_token",refresh_token:"refresh_token",token_type:"token_type",public_key:"xrkey",expires_in:"expires_in",authority:"authority",provider:"provider",image:"image",email:"email",menus:"menus",extras:"extras",server_date:"server_date",locale:"locale",theme:"theme",name:"name"};(D=e.TypeDataOauth||(e.TypeDataOauth={})).OAUTH="oauth",D.PROFILE="profile",D.SETTINGS="settings",D.LOCALSTORAGE="localstorage";var U,H,K,j=[{key:k.access_token,enc:!0,type:e.TypeDataOauth.OAUTH,string:!0},{key:k.refresh_token,enc:!0,type:e.TypeDataOauth.OAUTH,string:!0},{key:k.token_type,enc:!0,type:e.TypeDataOauth.OAUTH,string:!0},{key:k.public_key,enc:!0,type:e.TypeDataOauth.OAUTH,string:!0},{key:k.expires_in,enc:!0,type:e.TypeDataOauth.OAUTH,string:!1},{key:k.authority,enc:!0,type:e.TypeDataOauth.OAUTH,string:!0},{key:k.provider,enc:!0,type:e.TypeDataOauth.OAUTH,string:!0},{key:k.menus,enc:!0,type:e.TypeDataOauth.OAUTH,string:!1},{key:k.extras,enc:!0,type:e.TypeDataOauth.OAUTH,string:!1},{key:k.name,enc:!1,type:e.TypeDataOauth.PROFILE,string:!0},{key:k.email,enc:!1,type:e.TypeDataOauth.PROFILE,string:!0},{key:k.image,enc:!1,type:e.TypeDataOauth.PROFILE,string:!0},{key:k.locale,enc:!1,type:e.TypeDataOauth.SETTINGS,string:!0},{key:k.theme,enc:!1,type:e.TypeDataOauth.SETTINGS,string:!0},{key:k.server_date,enc:!1,type:e.TypeDataOauth.SETTINGS,string:!0}],M={authorization:"Authorization",signature:"X-DONGKAP-Signature",timestamp:"X-DONGKAP-Timestamp",key:"X-DONGKAP-Key",mark:"X-DONGKAP-Mark"};(U=e.DatePattern||(e.DatePattern={})).SLASH="^(?:(?:31(\\/)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$",U.DASH="^(?:(?:31(-)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(-)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(-)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(-)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$",U.DOT="^(?:(?:31(\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$",(H=e.DateFormat||(e.DateFormat={})).DATE="dd/MM/yyyy",H.DATETIME="dd/MM/yyyy HH:mm:ss.S",(K=e.Pattern||(e.Pattern={})).FULLNAME="(^[a-zA-Z]{1}([.])(?: [a-zA-Z]+)*)?([a-zA-Z ][a-zA-Z]+)*$",K.EMAIL=".+@.+..+",K.USERNAME="[a-z0-9.]*$",K.PHONE_NUMBER="^(([+]([0-9]{1,2}))|([0-9]{1}))([0-9]{2}-?)([0-9]{4}-?)([0-9]{1,6}-?)$",K.PASSWORD_MEDIUM="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])([@$!%*?&]*)[A-Za-z0-9@$!%*?&]{8,}$",K.PASSWORD_STRONG="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!%*?&])[A-Za-z0-9@$!%*?&]{8,}$",K.LOCALE="^en-US$|^id-ID$";var L=function(n){function o(e){var t=n.call(this)||this;return t.http=e,t}return d(o,n),o.prototype.HTTP_AUTH=function(e,t,n,o,a,i){return n=n?n.append(M.mark,"true"):(new r.HttpHeaders).append(M.mark,"true"),i=i||"json",this.HTTP_BASE(e,t,n,o,a,i)},o.prototype.HTTP_BASE=function(t,n,r,o,a,i){var s=null;switch(i=i||"json",t.method){case e.HttpMethod.POST:s=this.POST(this.API(t,a),n,r,o,i);break;case e.HttpMethod.PUT:s=this.PUT(this.API(t,a),n,r,o);break;case e.HttpMethod.DELETE:s=this.DELETE(this.API(t,a),r,o);break;default:s=this.GET(this.API(t,a),r,o,i)}return s},o.prototype.GET=function(e,t,n,r){return this.http.get(e,{headers:t,params:n,responseType:r})},o.prototype.POST=function(e,t,n,r,o){return this.http.post(e,t,{headers:n,params:r,responseType:o})},o.prototype.PUT=function(e,t,n,r){return this.http.put(e,t,{headers:n,params:r})},o.prototype.DELETE=function(e,t,n){return this.http.delete(e,{headers:t,params:n})},o.ctorParameters=function(){return[{type:r.HttpClient}]},o.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new o(t.ɵɵinject(r.HttpClient))},token:o,providedIn:"root"}),o.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[{type:r.HttpClient}]},o}(m),N=function(){function e(){}return e.prototype.handleError=function(e){if(e.message){if(e.message.includes("No loader found for file"))return a.EMPTY;if(e.message.includes("mousedown")||e.message.includes("mousemove")||e.message.includes("mouseup")||e.message.includes("mouseout")||e.message.includes("mousewheel")||e.message.includes("DOMMouseScroll")||e.message.includes("dblclick")||e.message.includes("touchstart")||e.message.includes("touchmove")||e.message.includes("touchend"))return a.EMPTY}throw e},e.decorators=[{type:t.Injectable}],e}(),w=function(){function e(){this.ivSize=128}return e.prototype.getHmacSha256=function(e,t,n){var r=p.HmacSHA256(t,e);return n?p.enc.Hex.stringify(r).toUpperCase():p.enc.Base64.stringify(r)},e.prototype.encryptAES=function(e,t){var n=p.lib.WordArray.random(this.ivSize/8),r=p.enc.Utf8.parse(e),o=p.AES.encrypt(t,r,{iv:n,padding:p.pad.Pkcs7,mode:p.mode.CBC});return n.toString()+o.toString()},e.prototype.decryptAES=function(e,t){if(t){var n=p.enc.Hex.parse(t.substr(0,32)),r=p.enc.Utf8.parse(e),o=t.substring(32),a=p.AES.decrypt(o,r,{iv:n,padding:p.pad.Pkcs7,mode:p.mode.CBC});try{return a.toString(p.enc.Utf8)}catch(e){return null}}return null},e.decorators=[{type:t.Injectable}],e}(),$=function(){function e(){this.preloadedModules=[]}return e.prototype.preload=function(e,t){return e.data&&e.data.preload?(this.preloadedModules.push(e.path),t()):a.EMPTY},e.decorators=[{type:t.Injectable}],e}(),x=[E,h,_,f,$,w,{provide:T,useClass:L},{provide:t.ErrorHandler,useClass:N}];function G(e){return new O(e,"./assets/i18n/",".json")}var B=function(){function e(e){!function(e,t){if(e)throw new Error(t+" has already been loaded. Import Core modules in the AppModule only.")}(e,"DoCoreModule")}return e.forRoot=function(){return{ngModule:e,providers:R(x,o.TranslateModule.forRoot({loader:{provide:o.TranslateLoader,useFactory:G,deps:[r.HttpClient]}}).providers)}},e.ctorParameters=function(){return[{type:e,decorators:[{type:t.Optional},{type:t.SkipSelf}]}]},e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],exports:[],declarations:[]}]}],e.ctorParameters=function(){return[{type:e,decorators:[{type:t.Optional},{type:t.SkipSelf}]}]},e}(),z=new t.InjectionToken("OAUTH INFO Resource"),F=new t.InjectionToken("USER INFO Resource"),X=new t.InjectionToken("API"),Y=new t.InjectionToken("Environment Config"),q=new t.InjectionToken("Auth IndexedDB Resource"),Z=new t.InjectionToken("Profile IndexedDB Resource"),W=new t.InjectionToken("Settings IndexedDB Resource"),V=new t.InjectionToken("Panic IndexedDB Resource");e.API=X,e.AUTH_INDEXED_DB=q,e.AnalyticsService=E,e.CORE_PROVIDERS=x,e.CustomPreloadingStrategy=$,e.DoCoreModule=B,e.ENVIRONMENT=Y,e.EncryptionService=w,e.Environment=C,e.ErrorHandlerService=N,e.HTTP_SERVICE=T,e.HostModel=b,e.HttpCommonService=L,e.LayoutService=h,e.LocaleModel=A,e.OAUTH_INFO=z,e.PANIC_INDEXED_DB=V,e.PROFILE_INDEXED_DB=Z,e.RoleModel=v,e.SETTINGS_INDEXED_DB=W,e.SeoService=_,e.StateService=f,e.TranslationService=O,e.USER_INFO=F,e.UserData=I,e.UserInfo=P,e.createTranslateLoader=G,e.oauthInfo=k,e.oauthInfoModels=j,e.signatureHeader=M,e.ɵa=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=dongkap-do-core.umd.min.js.map