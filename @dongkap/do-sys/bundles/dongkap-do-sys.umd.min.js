!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@nebular/theme"),require("@dongkap/do-theme"),require("@dongkap/do-common"),require("@angular/router"),require("@swimlane/ngx-datatable"),require("@dongkap/do-auth"),require("rxjs/operators"),require("@dongkap/do-core"),require("@angular/animations"),require("rxjs"),require("tree-ngx")):"function"==typeof define&&define.amd?define("@dongkap/do-sys",["exports","@angular/core","@angular/forms","@nebular/theme","@dongkap/do-theme","@dongkap/do-common","@angular/router","@swimlane/ngx-datatable","@dongkap/do-auth","rxjs/operators","@dongkap/do-core","@angular/animations","rxjs","tree-ngx"],t):t(((e=e||self).dongkap=e.dongkap||{},e.dongkap["do-sys"]={}),e.ng.core,e.ng.forms,e["@nebular/theme"],e["@dongkap/do-theme"],e["@dongkap/do-common"],e.ng.router,e["@swimlane/ngx-datatable"],e["@dongkap/do-auth"],e.rxjs.operators,e["@dongkap/do-core"],e.ng.animations,e.rxjs,e["tree-ngx"])}(this,(function(e,t,o,n,r,a,i,l,s,p,d,c,u,m){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)};function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}Object.create;function h(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}Object.create;var y=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"do-locale",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),v=function(){function e(){}return e.prototype.getLocale=function(){return this.locale},e.prototype.setLocale=function(e){this.locale=e},e.decorators=[{type:t.Injectable}],e}(),x=function(e){function o(t,o,n){var r=e.call(this,t,{localeCode:[],identifier:[]})||this;return r.injector=t,r.router=o,r.localeService=n,r.selectionType=l.SelectionType.single,r.columns=[{name:"Language Code",prop:"localeCode",width:125,frozenLeft:!0},{name:"Language",prop:"identifier",width:275,frozenLeft:!0},{name:"Icon",prop:"icon",width:75,frozenLeft:!0,type:"icon"},{name:"System Default Language",prop:"localeDefault",width:175,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],r.expanded=!1,r.apiPath=r.api.master["datatable-locale"],r.filters=[{controlName:"localeCode",type:"input"},{controlName:"identifier",type:"input"}],r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onAddGroup=function(){this.router.navigate(["/app/sysconf/i18n","add"])},o.prototype.onViewDetail=function(e){this.localeService.setLocale(e),this.router.navigate(["/app/sysconf/i18n","edit"])},o.prototype.onReset=function(){this.router.navigate(["/app/sysconf/i18n"])},o.prototype.back=function(){return this.router.navigate(["/app/sysconf/i18n"]),!1},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:v}]},o.decorators=[{type:t.Component,args:[{selector:"do-locale-list-page",template:'<do-page-outlet [header]="\'i18n\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onAdd)="onAddGroup()"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'localeCode\'"\n            [label]="\'Locale Code\'"\n            formControlName="localeCode">\n          </do-input-text>\n          <do-input-text\n            [name]="\'identifier\'"\n            [label]="\'Identifier\'"\n            formControlName="identifier">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[""]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:v}]},o}(a.BaseFilterComponent),C=function(){function e(e){this.ref=e,this.flags=["ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bl","bm","bn","bo","bq","br","bs","bt","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es-ca","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb-eng","gb-nir","gb-sct","gb-wls","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mf","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tr","tt","tv","tw","tz","ua","ug","um","un","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xk","ye","yt","za","zm","zw"]}return e.prototype.choose=function(e){this.ref.close("flag-icon flag-icon-"+e)},e.ctorParameters=function(){return[{type:n.NbDialogRef}]},e.decorators=[{type:t.Component,args:[{selector:"do-dialog-flag",template:'<nb-card>\n  <nb-card-header>\n    {{ \'Choose Flag\' | translate }}\n  </nb-card-header>\n  <nb-card-body>\n    <span class="flag-icon flag-icon-{{flag}} choose-flag" (click)="choose(flag)" *ngFor="let flag of flags"></span>\n  </nb-card-body>\n</nb-card>\n',styles:["/*!\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */.nb-theme-default :host input.deactivated-password{max-width:unset;width:100%}.nb-theme-default :host .cancel{margin-right:1rem}.nb-theme-default :host button.deactivated-button{width:100%}.nb-theme-default :host .flag-icon{margin:.75rem}.nb-theme-default :host .choose-flag{cursor:pointer}.nb-theme-dark :host input.deactivated-password{max-width:unset;width:100%}.nb-theme-dark :host .cancel{margin-right:1rem}.nb-theme-dark :host button.deactivated-button{width:100%}.nb-theme-dark :host .flag-icon{margin:.75rem}.nb-theme-dark :host .choose-flag{cursor:pointer}.nb-theme-cosmic :host input.deactivated-password{max-width:unset;width:100%}.nb-theme-cosmic :host .cancel{margin-right:1rem}.nb-theme-cosmic :host button.deactivated-button{width:100%}.nb-theme-cosmic :host .flag-icon{margin:.75rem}.nb-theme-cosmic :host .choose-flag{cursor:pointer}.nb-theme-corporate :host input.deactivated-password{max-width:unset;width:100%}.nb-theme-corporate :host .cancel{margin-right:1rem}.nb-theme-corporate :host button.deactivated-button{width:100%}@media (max-width:767.98px){.nb-theme-default :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-default :host button.deactivated-button{font-size:.6rem}.nb-theme-dark :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-dark :host button.deactivated-button{font-size:.6rem}.nb-theme-cosmic :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-cosmic :host button.deactivated-button{font-size:.6rem}.nb-theme-corporate :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-corporate :host button.deactivated-button{font-size:.6rem}}.nb-theme-corporate :host .flag-icon{margin:.75rem}.nb-theme-corporate :host .choose-flag{cursor:pointer}"]}]}],e.ctorParameters=function(){return[{type:n.NbDialogRef}]},e}(),G=function(e){function o(t,o,n,r,a){var i=e.call(this,t,{language:[],icon:[],default:[]})||this;return i.injector=t,i.router=o,i.route=n,i.localeService=r,i.dialogService=a,i.action="Add",i.dataDefault=[{selected:!1}],i.localeService.getLocale()||"add"===i.route.snapshot.params.action?("edit"===i.route.snapshot.params.action&&(i.action="Edit"),i.apiSelectLanguage=i.api.master["select-language"],i.localeService.getLocale()&&"edit"===i.route.snapshot.params.action&&(i.localeService.getLocale().localeDefault?(i.formGroup.get("default").setValue([{selected:!0}]),i.formGroup.get("default").disable()):i.formGroup.get("default").setValue([{selected:!1}]),i.formGroup.get("icon").setValue(i.localeService.getLocale().icon),i.formGroup.get("language").setValue(i.localeService.getLocale().identifier),i.formGroup.get("language").disable())):i.router.navigate(["/app/sysconf/i18n"]),i}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onSearchFlag=function(){var e=this;this.dialogService.open(C).onClose.subscribe((function(t){e.formGroup.get("icon").setValue(t),e.formGroup.get("icon").markAsDirty()}))},o.prototype.onReset=function(){this.router.navigate(["/app/sysconf/i18n"])},o.prototype.onSubmit=function(){var t=this,o=this.formGroup.get("default").value,n={icon:this.formGroup.get("icon").value,localeDefault:!!o,localeCode:this.formGroup.get("language").value.value?this.formGroup.get("language").value.value:this.localeService.getLocale().localeCode,identifier:this.formGroup.get("language").value.label?this.formGroup.get("language").value.label:this.localeService.getLocale().identifier,localeEnabled:!0};e.prototype.onSubmit.call(this,n,"master","post-locale").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_SCR010.toString()&&t.router.navigate(["/app/sysconf/i18n"])}))},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:i.ActivatedRoute},{type:v},{type:n.NbDialogService}]},o.decorators=[{type:t.Component,args:[{selector:"do-locale-add-edit-page",template:'<do-page-outlet [header]="\'header.\'+action+\'-i18n\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <form [formGroup]="formGroup">\n        <do-select\n          [name]="\'language\'"\n          [label]="\'Language\'"\n          [required]="true"\n          [api]="apiSelectLanguage"\n          formControlName="language">\n        </do-select>\n        <do-input-icon\n          [name]="\'icon\'"\n          [label]="\'Icon\'"\n          [required]="true"\n          [icon]="\'search-outline\'"\n          [iconcursor]="true"\n          [eva]="true"\n          (clickIcon)="onSearchFlag()"\n          formControlName="icon">\n        </do-input-icon>\n        <do-checkbox\n          [name]="\'checkbox\'"\n          [label]="\'System Default Language\'"\n          [data]="dataDefault"\n          formControlName="default">\n        </do-checkbox>\n        <div class="form-group row">\n          <div class="offset-sm-3 col-sm-9">\n            <button\n              type="reset"\n              status="danger"\n              (click)="onReset()"\n              class="reset-left"\n              nbButton>\n              {{ \'Cancel\' | translate}}\n            </button>\n            <button\n              type="submit"\n              status="primary"\n              (click)="onSubmit()"\n              [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n              class="submit-right"\n              nbButton>\n              {{ action | translate}}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:i.ActivatedRoute},{type:v},{type:n.NbDialogService}]},o}(a.BaseFormComponent),k=[{path:"",component:y,canActivateChild:[s.AuthGuardChildService],children:[{path:"",component:x,data:{code:"#SYSCONF-I18N-PAGE"}},{path:":action",component:G,data:{code:"#SYSCONF-I18N-PAGE"}}]}],S=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.RouterModule.forChild(k)],exports:[i.RouterModule]}]}],e}(),w=[y,x,G,C],N=[o.FormsModule,o.ReactiveFormsModule,n.NbCardModule,n.NbAlertModule,n.NbIconModule,n.NbDialogModule.forChild(),r.DoThemeModule,a.DoInputModule,a.DoCheckBoxModule,a.DoButtonModule,a.DoBaseModule,a.DoSelectModule,a.DoTableModule,S],M=[v],D=[C],F=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:b(N),declarations:b(w),providers:b(M),entryComponents:b(D)}]}],e}(),I=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"do-parameter",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),A=function(){function e(){}return e.prototype.getParameter=function(){return this.parameter},e.prototype.setParameter=function(e){this.parameter=e},e.prototype.getParameterGroup=function(){return this.parameterGroup},e.prototype.setParameterGroup=function(e){this.parameterGroup=e},e.prototype.getLocales=function(){return this.locales},e.prototype.setLocales=function(e){this.locales=e},e.decorators=[{type:t.Injectable}],e}(),R=function(e){function o(t,o,n,r){var a=e.call(this,t,{parameterGroupCode:[],parameterGroupName:[]})||this;return a.injector=t,a.router=o,a.parameterService=n,a.dialogService=r,a.columns=[{name:"Parameter Group Code",prop:"parameterGroupCode",width:220,frozenLeft:!0},{name:"Parameter Group Name",prop:"parameterGroupName",width:200,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],a.reload=!1,a.filters=[{controlName:"parameterGroupCode",type:"input"},{controlName:"parameterGroupName",type:"input"}],a.apiPath=a.api.master["datatable-parameter-group"],a.apiPathLocale=a.api.master["all-locale"],a.apiPathDelete=a.api.master["delete-parameter-group"],a}return f(o,e),o.prototype.ngOnInit=function(){var e=this;this.http.HTTP_AUTH(this.apiPathLocale).subscribe((function(t){e.parameterService.setLocales(t)}))},o.prototype.onAddGroup=function(){this.router.navigate(["/app/sysconf/parameter/group","add"])},o.prototype.onViewDetail=function(e){this.parameterService.setParameterGroup({parameterGroupCode:e.parameterGroupCode,parameterGroupName:e.parameterGroupName}),this.router.navigate(["/app/sysconf/parameter/detail"])},o.prototype.onDeleteGroup=function(e,t){var o=this;this.parameterGroupCodes=[],e.forEach((function(e){o.parameterGroupCodes.push(e.parameterGroupCode)})),this.dialogService.open(t,{context:"alert.delete"})},o.prototype.onDelete=function(e){var t=this;this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,this.parameterGroupCodes).pipe(p.takeUntil(this.destroy$)).subscribe((function(o){e.close(),t.disabled=!1,t.reload=!0,t.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)}),(function(e){t.disabled=!1,t.toastr.showI18n(e.respStatusMessage[e.respStatusCode],!0,null,"danger")}))},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:A},{type:n.NbDialogService}]},o.decorators=[{type:t.Component,args:[{selector:"do-parameter-list-group-page",template:'<do-page-outlet [header]="\'Parameter Group\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [reloadFn]="reload"\n        (onAdd)="onAddGroup()"\n        (onEdit)="onViewDetail($event)"\n        (onDelete)="onDeleteGroup($event, dialogdelete)"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'parameterGroupCode\'"\n            [label]="\'Parameter Group Code\'"\n            formControlName="parameterGroupCode">\n          </do-input-text>\n          <do-input-text\n            [name]="\'parameterGroupName\'"\n            [label]="\'Parameter Group Name\'"\n            formControlName="parameterGroupName">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n\n<ng-template #dialogdelete let-data let-ref="dialogRef">\n  <nb-card accent="danger">\n    <nb-card-header>{{ \'Warning\' | translate}}</nb-card-header>\n    <nb-card-body>{{ data | translate}}</nb-card-body>\n    <nb-card-footer>\n      <div class="row">\n        <button\n          type="reset"\n          status="danger"\n          (click)="ref.close()"\n          class="reset-left"\n          nbButton>\n          {{ \'Cancel\' | translate}}\n        </button>\n        <button\n          type="submit"\n          status="primary"\n          (click)="onDelete(ref)"\n          [disabled]="disabled"\n          class="submit-right"\n          nbButton>\n          {{ \'Delete\' | translate}}\n        </button>\n      </div>\n    </nb-card-footer>\n  </nb-card>\n</ng-template>',styles:[".reset-left{margin-left:1rem;margin-right:.5rem}.submit-right{margin-left:.5rem}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:A},{type:n.NbDialogService}]},o}(a.BaseFilterComponent),P=function(e){function o(t,o){var n=e.call(this,t,{parameterGroupCode:[],parameterGroupName:[]})||this;return n.injector=t,n.router=o,n}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onReset=function(){this.router.navigate(["/app/sysconf/parameter"])},o.prototype.onSubmit=function(){var t=this;e.prototype.onSubmit.call(this,this.formGroup.value,"master","post-parameter-group").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_SCR009.toString()&&t.router.navigate(["/app/sysconf/parameter"])}))},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router}]},o.decorators=[{type:t.Component,args:[{selector:"do-parameter-add-group-page",template:'<do-page-outlet [header]="\'Add Parameter Group\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <form [formGroup]="formGroup">\n        <do-input-text\n          [name]="\'parameterGroupCode\'"\n          [label]="\'Parameter Group Code\'"\n          [required]="true"\n          formControlName="parameterGroupCode">\n        </do-input-text>\n        <do-input-text\n          [name]="\'parameterGroupName\'"\n          [label]="\'Parameter Group Name\'"\n          [required]="true"\n          formControlName="parameterGroupName">\n        </do-input-text>\n        <div class="form-group row">\n          <div class="offset-sm-3 col-sm-9">\n            <button\n              type="reset"\n              status="danger"\n              (click)="onReset()"\n              class="reset-left"\n              nbButton>\n              {{ \'Cancel\' | translate}}\n            </button>\n            <button\n              type="submit"\n              status="primary"\n              (click)="onSubmit()"\n              [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n              class="submit-right"\n              nbButton>\n              {{ \'Add\' | translate}}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router}]},o}(a.BaseFormComponent),T=function(){},L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(T),E=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}f(t,e)}(L),function(){function e(){var e=this;this.toggle=function(){e.opened$.pipe(p.take(1)).subscribe((function(t){return e.openedSubject.next(!t)}))},this.openedSubject=new u.ReplaySubject(1),this.openedSubject.next(!1),this.opened$=this.openedSubject.asObservable(),this.openedState$=this.opened$.pipe(p.map((function(e){return e?"expanded":"collapsed"})))}return e.decorators=[{type:t.Component,args:[{selector:"do-parameter-edit-group-collapse, [do-parameter-edit-group-collapse]",template:'<div class="row"\n    [@openedState]="openedState$ | async"\n    [ngClass]="openedState$ | async">\n    <ng-content></ng-content>\n</div>',animations:[c.trigger("openedState",[c.state("collapsed",c.style({opacity:0,overflow:"hidden",height:"0px",minHeight:"0",padding:"0 0 0 1.25rem"})),c.state("expanded",c.style({opacity:1,overflow:"hidden",height:"*",padding:"0 1.25rem"})),c.transition("collapsed <=> expanded",c.animate("500ms ease-in-out"))])],styles:[""]}]}],e.ctorParameters=function(){return[]},e}()),j=function(e){function o(t,o,n){var r=e.call(this,t,{parameterCode:[]},{parameterGroupCode:[],parameterGroupName:[]})||this;return r.injector=t,r.router=o,r.parameterService=n,r.selectionType=l.SelectionType.single,r.columns=[{name:"Parameter Code",prop:"parameterCode",width:350,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],r.parameterGroup=new T,r.expanded=!1,r.parameterService.getParameterGroup()?(r.apiPath=r.api.master["datatable-parameter"],r.filters=[{controlName:"parameterCode",type:"input"}],r.parameterGroup=r.parameterService.getParameterGroup(),r.keyword={parameterGroupCode:r.parameterGroup.parameterGroupCode},r.formGroup.get("parameterGroupCode").setValue(r.parameterGroup.parameterGroupCode),r.formGroup.get("parameterGroupName").setValue(r.parameterGroup.parameterGroupName)):r.router.navigate(["/app/sysconf/parameter"]),r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onAddGroup=function(e){this.parameterService.setParameter(null),this.router.navigate(["/app/sysconf/parameter/detail","add"])},o.prototype.onViewDetail=function(e){this.parameterService.setParameter({parameterGroupCode:e.parameterGroupCode,parameterGroupName:e.parameterGroupName,parameterCode:e.parameterCode}),this.router.navigate(["/app/sysconf/parameter/detail","edit"])},o.prototype.onReset=function(){this.router.navigate(["/app/sysconf/parameter"])},o.prototype.back=function(){return this.router.navigate(["/app/sysconf/parameter"]),!1},o.prototype.doExpanded=function(){this.collapse.toggle(),this.expanded=!this.expanded},o.prototype.onSubmit=function(){e.prototype.onSubmit.call(this,this.formGroup.value,"master","post-parameter-group")},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:A}]},o.decorators=[{type:t.Component,args:[{selector:"do-parameter-list-detail-page",template:'<div class="row">\n  <div class="col-lg-12">\n    <nb-card>\n      <nb-card-header>\n        <nav class="navigation">\n            <a href="#" (click)="back()" class="link back-link" aria-label="Back">\n                <nb-icon icon="arrow-back"></nb-icon>\n            </a>\n            {{\'Edit Parameter Group\' | translate}}\n            <div class="link back-link parameter-expanded">\n              <nb-icon\n                  [icon]="expanded ? \'arrow-upward-outline\' : \'arrow-downward-outline\'"\n                  (click)="doExpanded()">\n              </nb-icon>\n            </div>\n        </nav>\n      </nb-card-header>\n      <div do-parameter-edit-group-collapse #collapseparameter>\n        <nb-card-body>\n          <div class="row">\n            <div class="col-md-12 col-lg-12 col-xxxl-6">\n              <form [formGroup]="formGroup">\n                <do-input-text\n                  [name]="\'parameterGroupName\'"\n                  [label]="\'Parameter Group Name\'"\n                  [required]="true"\n                  formControlName="parameterGroupName">\n                </do-input-text>\n                <div class="form-group row">\n                  <div class="offset-sm-3 col-sm-9">\n                    <button\n                      type="reset"\n                      status="danger"\n                      (click)="onReset()"\n                      class="reset-left"\n                      nbButton>\n                      {{ \'Cancel\' | translate}}\n                    </button>\n                    <button\n                      type="submit"\n                      status="primary"\n                      (click)="onSubmit()"\n                      [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n                      class="submit-right"\n                      nbButton>\n                      {{ \'Edit\' | translate}}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </nb-card-body>\n      </div>\n    </nb-card>\n  </div>\n</div>\n\n<do-page-outlet [url]="\'/app/sysconf/parameter\'" [header]="\'header.parameter\'" [param]="{value: parameterGroup.parameterGroupName}">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onAdd)="onAddGroup($event)"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'parameterCode\'"\n            [label]="\'Parameter Code\'"\n            formControlName="parameterCode">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}.parameter-expanded{position:absolute;right:0;padding:0 1.75rem;cursor:pointer}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:A}]},o.propDecorators={collapse:[{type:t.ViewChild,args:["collapseparameter",{static:!1}]}]},o}(a.BaseFilterComponent),B=function(e){function n(t,o,n,r){var a=e.call(this,t,{parameterCode:[],"en-US":[],"id-ID":[]})||this;return a.injector=t,a.router=o,a.parameterService=n,a.route=r,a.action="Add",a.parameter=new L,a.parameterGroup=new T,a.allLocales=[],a.locales=[],a.localeDefault=new d.LocaleModel,a.isEdit=!1,a.parameterService.getParameterGroup()?(a.parameterGroup=a.parameterService.getParameterGroup(),"edit"===a.route.snapshot.params.action&&(a.parameterService.getParameter()?(a.action="Edit",a.isEdit=!0,a.parameter=a.parameterService.getParameter()):a.router.navigate(["/app/sysconf/parameter"])),a.parameterService.getLocales()?a.splitLocale(a.parameterService.getLocales()):(a.apiPathLocale=a.api.master["all-locale"],a.http.HTTP_AUTH(a.apiPathLocale).subscribe((function(e){a.parameterService.setLocales(e),a.splitLocale(e)}))),a.isEdit&&(a.formGroup.get("parameterCode").setValue(a.parameter.parameterCode),a.formGroup.get("parameterCode").disable({emitEvent:!0}),a.apiPathParameterI18n=a.api.master["all-parameter-i18n"],a.loadingForm=!0,a.http.HTTP_AUTH(a.apiPathParameterI18n,{parameterCode:a.parameter.parameterCode}).subscribe((function(e){e.forEach((function(e){a.formGroup.get(e.locale).setValue(e.parameterValue),a.loadingForm=!1}))})))):a.router.navigate(["/app/sysconf/parameter"]),a}return f(n,e),n.prototype.splitLocale=function(e){var t=this;this.allLocales=e,e.forEach((function(e){e.localeDefault?t.localeDefault=e:t.locales.push(e),t.formGroup.removeControl(e.localeCode),t.formGroup.addControl(e.localeCode,new o.FormControl)}))},n.prototype.ngOnInit=function(){},n.prototype.onReset=function(){this.router.navigate(["/app/sysconf/parameter/detail"])},n.prototype.onSubmit=function(){var t=this,o=this.formGroup.value;this.isEdit&&(o.parameterCode=this.parameter.parameterCode),o.parameterGroupCode=this.parameterGroup.parameterGroupCode,o.parameterValues={},this.allLocales.forEach((function(e){o.parameterValues[e.localeCode]=t.formGroup.get(e.localeCode).value})),e.prototype.onSubmit.call(this,o,"master","post-parameter-i18n").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_SCR009.toString()&&t.router.navigate(["/app/sysconf/parameter/detail"])}))},n.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:A},{type:i.ActivatedRoute}]},n.decorators=[{type:t.Component,args:[{selector:"do-parameter-do-detail-page",template:'<do-page-outlet [header]="action + \' Parameter\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <form [formGroup]="formGroup">\n        <do-input-text\n          [name]="\'parameterCode\'"\n          [label]="\'Parameter Code\'"\n          [required]="!isEdit"\n          [skeleton]="loadingForm"\n          formControlName="parameterCode">\n        </do-input-text>\n        <div class="header">\n          <div class="form-group row">\n            <label\n              for="Parameter Value"\n              class="label col-sm-3 col-form-label"\n              *ngIf="!loadingForm; else labelskeleton">\n              {{\'Parameter Value\' | translate}}\n            </label>\n            <ng-template #labelskeleton>\n              <div class="col-sm-3">\n                <div\n                  [ngClass]="{\n                    \'label-skeleton\': true,\n                    \'skeleton\': loadingForm\n                  }">\n                </div>\n              </div>\n            </ng-template>\n            <div class="col-sm-9">\n              <do-input-icon *ngIf="localeDefault.localeCode"\n                [name]="localeDefault.localeCode"\n                [nolabel]="true"\n                [required]="true"\n                [colLabel]="0"\n                [colInput]="12"\n                [icon]="\'flag-icon flag-icon-\' + localeDefault.icon"\n                [skeleton]="loadingForm"\n                formControlName="{{localeDefault.localeCode}}">\n              </do-input-icon>\n            </div>\n          </div>\n        </div>\n        <do-input-icon *ngFor="let i18n of locales"\n          [name]="i18n.localeCode"\n          [nolabel]="true"\n          [icon]="\'flag-icon flag-icon-\'+ i18n.icon"\n          [skeleton]="loadingForm"\n          formControlName="{{i18n.localeCode}}">\n        </do-input-icon>\n        <div class="form-group row">\n          <div class="offset-sm-3 col-sm-9" *ngIf="!loadingForm; else buttonskeleton">\n            <button\n              type="reset"\n              status="danger"\n              (click)="onReset()"\n              class="reset-left"\n              nbButton>\n              {{ \'Cancel\' | translate}}\n            </button>\n            <button\n              type="submit"\n              status="primary"\n              (click)="onSubmit()"\n              [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n              class="submit-right"\n              nbButton>\n              {{ action | translate}}\n            </button>\n          </div>\n          <ng-template #buttonskeleton>\n            <div class="offset-sm-3 col-sm-9">\n              <div\n                [ngClass]="{\n                  \'button-skeleton\': true,\n                  \'skeleton\': loadingForm\n                }">\n              </div>\n            </div>\n          </ng-template>\n        </div>\n      </form>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}"]}]}],n.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:A},{type:i.ActivatedRoute}]},n}(a.BaseFormComponent),V=[{path:"",component:I,canActivateChild:[s.AuthGuardChildService],children:[{path:"",component:R,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"group",component:R,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"group/:action",component:P,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"detail",component:j,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"detail/:action",component:B,data:{code:"#SYSCONF-PARAMETER-PAGE"}}]}],O=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.RouterModule.forChild(V)],exports:[i.RouterModule]}]}],e}(),z=[I,R,P,E,j,B],U=[o.FormsModule,o.ReactiveFormsModule,n.NbCardModule,n.NbAlertModule,n.NbIconModule,n.NbDialogModule.forChild(),r.DoThemeModule,a.DoInputModule,a.DoCheckBoxModule,a.DoButtonModule,a.DoBaseModule,a.DoSelectModule,a.DoTableModule,O],$=[A],q=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:b(U),declarations:b(z),providers:b($)}]}],e}(),H=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"do-mgmt-user",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),_=function(){function e(){}return e.prototype.getUser=function(){return this.user},e.prototype.setUser=function(e){this.user=e},e.decorators=[{type:t.Injectable}],e}(),K=function(e){function o(t,o,n){var r=e.call(this,t,{username:[],name:[],phoneNumber:[]})||this;return r.injector=t,r.router=o,r.userService=n,r.selectionType=l.SelectionType.single,r.columns=[{name:"Username",prop:"username",width:125,frozenLeft:!0},{name:"Name",prop:"name",width:275,frozenLeft:!0},{name:"Email",prop:"email",width:225,frozenLeft:!0},{name:"Phone Number",prop:"phoneNumber",width:150,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],r.expanded=!1,r.apiPath=r.api.security["datatable-user"],r.filters=[{controlName:"username",type:"input"},{controlName:"name",type:"input"},{controlName:"phoneNumber",type:"input"}],r.keyword={authority:"ROLE_END"},r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onViewDetail=function(e){this.userService.setUser(e),this.router.navigate(["/app/mgmt/user/end/detail"])},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o.decorators=[{type:t.Component,args:[{selector:"do-mgmt-end-user-list-page",template:'<do-page-outlet [header]="\'header.user-management\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [add]="false"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'username\'"\n            [label]="\'Username\'"\n            formControlName="username">\n          </do-input-text>\n          <do-input-text\n            [name]="\'name\'"\n            [label]="\'Name\'"\n            formControlName="name">\n          </do-input-text>\n          <do-input-text\n            [name]="\'phoneNumber\'"\n            [label]="\'Phone Number\'"\n            formControlName="phoneNumber">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[""]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o}(a.BaseFilterComponent),W=function(e){function o(t,o,n){var r=e.call(this,t)||this;return r.injector=t,r.router=o,r.userService=n,r.profile={},r.imageDefault=document.getElementsByTagName("base")[0].href+"/assets/images/avatars/default.png",r}return f(o,e),o.prototype.ngOnInit=function(){this.onInit("security","get-profile-other")},o.prototype.onInit=function(e,t){var o=this;if(this.userService.getUser()){this.loadingForm=!0;var n={username:this.userService.getUser().username};this.exec(e,t,n).pipe(p.takeUntil(this.destroy$)).subscribe((function(e){o.loadingForm=!1,o.profile=e,e.image&&(o.image=e.image)}),(function(e){o.loadingForm=!0;var t=e.error;t?o.toastr.showI18n(t.respStatusMessage[t.respStatusCode],!0,null,"danger"):o.toastr.showI18n(t,!0,null,"danger")}))}else this.router.navigate(["/app/mgmt/user/end"])},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o.decorators=[{type:t.Component,args:[{selector:"do-mgmt-end-user-detail-page",template:'<do-page-outlet [url]="\'/app/mgmt/user/end\'" [header]="\'header.user-profile\'">\n  <div class="row" pagecontent>\n    <div class="col-md-4 col-lg-4 col-xxxl-6">\n      <div class="photo-profile"\n        [ngStyle]="{ \n          \'background-image\': \'url(\' + (image? image: imageDefault) + \')\'\n        }">\n      </div>\n    </div>\n    <div class="col-md-8 col-lg-8 col-xxxl-6">\n      <div class="split-row">\n        <do-label-text\n          [label]="\'Name\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.name"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'ID Number\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.idNumber"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'Gender\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.gender"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'Place / Date of Birth\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.placeOfBirth ? (profile.placeOfBirth + \', \' + profile.dateOfBirth) : \'\'"\n          [skeleton]="loadingForm">\n        </do-label-text>\n      </div>\n      <div class="split-row">\n        <do-label-text\n          [label]="\'Username\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.username"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'Email\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.email"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'Phone Number\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.phoneNumber"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'Address\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.address"\n          [skeleton]="loadingForm">\n        </do-label-text>\n        <do-label-text\n          [label]="\'Country\'"\n          [colLabel]="4"\n          [colContent]="8"\n          [content]="profile.country"\n          [skeleton]="loadingForm">\n        </do-label-text>\n      </div>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".nb-theme-default :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-default :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-dark :host .split-row{border-bottom:1px solid #151a30;margin-bottom:1rem}.nb-theme-dark :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-cosmic :host .split-row{border-bottom:1px solid #1b1b38;margin-bottom:1rem}.nb-theme-cosmic :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-corporate :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-corporate :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o}(a.BaseFormComponent),Y=function(e){function o(t,o,n){var r=e.call(this,t,{username:[],name:[],phoneNumber:[]})||this;return r.injector=t,r.router=o,r.userService=n,r.selectionType=l.SelectionType.single,r.columns=[{name:"Username",prop:"username",width:125,frozenLeft:!0},{name:"Name",prop:"name",width:275,frozenLeft:!0},{name:"Email",prop:"email",width:225,frozenLeft:!0},{name:"Phone Number",prop:"phoneNumber",width:150,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],r.expanded=!1,r.apiPath=r.api.security["datatable-user"],r.filters=[{controlName:"username",type:"input"},{controlName:"name",type:"input"},{controlName:"phoneNumber",type:"input"}],r.keyword={authority:"ROLE_ADMIN"},r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onViewDetail=function(e){this.userService.setUser(e),this.router.navigate(["/app/mgmt/user/admin/detail"])},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o.decorators=[{type:t.Component,args:[{selector:"do-mgmt-admin-list-page",template:'<do-page-outlet [header]="\'header.admin-management\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [add]="false"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'username\'"\n            [label]="\'Username\'"\n            formControlName="username">\n          </do-input-text>\n          <do-input-text\n            [name]="\'name\'"\n            [label]="\'Name\'"\n            formControlName="name">\n          </do-input-text>\n          <do-input-text\n            [name]="\'phoneNumber\'"\n            [label]="\'Phone Number\'"\n            formControlName="phoneNumber">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[""]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o}(a.BaseFilterComponent),J=function(e){function o(t,o,n){var r=e.call(this,t)||this;return r.injector=t,r.router=o,r.userService=n,r.profile={},r.imageDefault=document.getElementsByTagName("base")[0].href+"/assets/images/avatars/default.png",r}return f(o,e),o.prototype.ngOnInit=function(){this.onInit("security","get-profile-system-other")},o.prototype.onInit=function(e,t){var o=this;if(this.userService.getUser()){this.loadingForm=!0;var n={username:this.userService.getUser().username};this.exec(e,t,n).pipe(p.takeUntil(this.destroy$)).subscribe((function(e){o.loadingForm=!1,o.profile=e,e.image&&(o.image=e.image)}),(function(e){o.loadingForm=!0;var t=e.error;t?o.toastr.showI18n(t.respStatusMessage[t.respStatusCode],!0,null,"danger"):o.toastr.showI18n(t,!0,null,"danger")}))}else this.router.navigate(["/app/mgmt/user/admin"])},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o.decorators=[{type:t.Component,args:[{selector:"do-mgmt-admin-detail-page",template:'<do-page-outlet [url]="\'/app/mgmt/user/admin\'" [header]="\'header.admin-profile\'">\n  <div class="row" pagecontent>\n    <div class="col-md-4 col-lg-4 col-xxxl-6">\n      <div class="photo-profile"\n        [ngStyle]="{ \n          \'background-image\': \'url(\' + (image? image: imageDefault) + \')\'\n        }">\n      </div>\n    </div>\n    <div class="col-md-8 col-lg-8 col-xxxl-6">\n      <do-label-text\n        [label]="\'Name\'"\n        [colLabel]="4"\n        [colContent]="8"\n        [content]="profile.name"\n        [skeleton]="loadingForm">\n      </do-label-text>\n      <do-label-text\n        [label]="\'Username\'"\n        [colLabel]="4"\n        [colContent]="8"\n        [content]="profile.username"\n        [skeleton]="loadingForm">\n      </do-label-text>\n      <do-label-text\n        [label]="\'Email\'"\n        [colLabel]="4"\n        [colContent]="8"\n        [content]="profile.email"\n        [skeleton]="loadingForm">\n      </do-label-text>\n      <do-label-text\n        [label]="\'Phone Number\'"\n        [colLabel]="4"\n        [colContent]="8"\n        [content]="profile.phoneNumber"\n        [skeleton]="loadingForm">\n      </do-label-text>\n      <do-label-text\n        [label]="\'Address\'"\n        [colLabel]="4"\n        [colContent]="8"\n        [content]="profile.address"\n        [skeleton]="loadingForm">\n      </do-label-text>\n      <do-label-text\n        [label]="\'Country\'"\n        [colLabel]="4"\n        [colContent]="8"\n        [content]="profile.country"\n        [skeleton]="loadingForm">\n      </do-label-text>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".nb-theme-default :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-default :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-dark :host .split-row{border-bottom:1px solid #151a30;margin-bottom:1rem}.nb-theme-dark :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-cosmic :host .split-row{border-bottom:1px solid #1b1b38;margin-bottom:1rem}.nb-theme-cosmic :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-corporate :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-corporate :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:_}]},o}(a.BaseFormComponent),Q=[{path:"",component:H,canActivateChild:[s.AuthGuardChildService],children:[{path:"end",component:K,data:{code:"#MANAGEMENT-END-USER-PAGE"}},{path:"end/detail",component:W,data:{code:"#MANAGEMENT-END-USER-PAGE"}},{path:"admin",component:Y,data:{code:"#MANAGEMENT-ADMIN-PAGE"}},{path:"admin/detail",component:J,data:{code:"#MANAGEMENT-ADMIN-PAGE"}}]}],X=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.RouterModule.forChild(Q)],exports:[i.RouterModule]}]}],e}(),Z=[H,K,W,Y,J],ee=[o.FormsModule,o.ReactiveFormsModule,n.NbCardModule,n.NbAlertModule,n.NbIconModule,n.NbDialogModule.forChild(),r.DoThemeModule,a.DoInputModule,a.DoButtonModule,a.DoBaseModule,a.DoTableModule,a.DoLabelModule,X],te=[_],oe=[],ne=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:b(ee),declarations:b(Z),providers:b(te),entryComponents:b(oe)}]}],e}(),re=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"do-mgmt-role",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),ae=function(){function e(){}return e.prototype.getRole=function(){return this.role},e.prototype.setRole=function(e){this.role=e},e.decorators=[{type:t.Injectable}],e}(),ie=function(e){function o(t,o,n){var r=e.call(this,t,{authority:[],description:[]})||this;return r.injector=t,r.router=o,r.roleService=n,r.selectionType=l.SelectionType.single,r.columns=[{name:"Authority",prop:"authority",width:150,frozenLeft:!0},{name:"Description",prop:"description",width:275,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],r.expanded=!1,r.apiPath=r.api.security["datatable-role"],r.filters=[{controlName:"authority",type:"input"},{controlName:"description",type:"input"}],r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onAddGroup=function(){this.router.navigate(["/app/mgmt/role","add"])},o.prototype.onViewDetail=function(e){this.roleService.setRole(e),this.router.navigate(["/app/mgmt/role","edit"])},o.prototype.onReset=function(){this.router.navigate(["/app/mgmt/role"])},o.prototype.back=function(){return this.router.navigate(["/app/mgmt/role"]),!1},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:ae}]},o.decorators=[{type:t.Component,args:[{selector:"do-role-list-page",template:'<do-page-outlet [header]="\'header.role-management\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onAdd)="onAddGroup()"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'authority\'"\n            [label]="\'Authority\'"\n            formControlName="authority">\n          </do-input-text>\n          <do-input-text\n            [name]="\'description\'"\n            [label]="\'Description\'"\n            formControlName="description">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[""]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:ae}]},o}(a.BaseFilterComponent),le=function(e){function o(t,o,n,r){var a=e.call(this,t,{authority:[],description:[]})||this;return a.injector=t,a.router=o,a.route=n,a.roleService=r,a.action="Add",a.dataDefault=[{selected:!1}],"edit"===a.route.snapshot.params.action&&(a.action="Edit",a.roleService.getRole()||a.router.navigate(["/app/mgmt/role"])),a.roleService.getRole()&&"edit"===a.route.snapshot.params.action&&(a.formGroup.get("authority").setValue(a.roleService.getRole().authority),a.formGroup.get("description").setValue(a.roleService.getRole().description)),a}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onReset=function(){this.router.navigate(["/app/mgmt/role"])},o.prototype.onSubmit=function(){var t=this,o={authority:this.formGroup.get("authority").value,description:this.formGroup.get("description").value};e.prototype.onSubmit.call(this,o,"security","post-role").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_DEFAULT.toString()&&t.router.navigate(["/app/mgmt/role"])}))},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:i.ActivatedRoute},{type:ae}]},o.decorators=[{type:t.Component,args:[{selector:"do-language-add-edit-page",template:'<do-page-outlet [header]="\'header.\'+action+\'-role\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <form [formGroup]="formGroup">\n        <do-input-text\n          [name]="\'authority\'"\n          [label]="\'Authority\'"\n          [required]="true"\n          formControlName="authority">\n        </do-input-text>\n        <do-input-text\n          [name]="\'description\'"\n          [label]="\'Description\'"\n          [required]="true"\n          formControlName="description">\n        </do-input-text>\n        <div class="form-group row">\n          <div class="offset-sm-3 col-sm-9">\n            <button\n              type="reset"\n              status="danger"\n              (click)="onReset()"\n              class="reset-left"\n              nbButton>\n              {{ \'Cancel\' | translate}}\n            </button>\n            <button\n              type="submit"\n              status="primary"\n              (click)="onSubmit()"\n              [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n              class="submit-right"\n              nbButton>\n              {{ action | translate}}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[".reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:i.ActivatedRoute},{type:ae}]},o}(a.BaseFormComponent),se=[{path:"",component:re,canActivateChild:[s.AuthGuardChildService],children:[{path:"",component:ie,data:{code:"#MANAGEMENT-ROLE-PAGE"}},{path:":action",component:le,data:{code:"#MANAGEMENT-ROLE-PAGE"}}]}],pe=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.RouterModule.forChild(se)],exports:[i.RouterModule]}]}],e}(),de=[re,ie,le],ce=[o.FormsModule,o.ReactiveFormsModule,n.NbCardModule,n.NbAlertModule,n.NbIconModule,n.NbDialogModule.forChild(),r.DoThemeModule,a.DoInputModule,a.DoCheckBoxModule,a.DoButtonModule,a.DoBaseModule,a.DoSelectModule,a.DoTableModule,pe],ue=[ae],me=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:b(ce),declarations:b(de),providers:b(ue)}]}],e}(),ge=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"do-mgmt-menu",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),fe=function(){function e(e,t){this.ref=e,this.evaIcons=[],this.evaIcons=Array.from(t.getPack("eva").icons.keys()).filter((function(e){return-1!==e.indexOf("outline")}))}return e.prototype.choose=function(e){this.ref.close(e)},e.ctorParameters=function(){return[{type:n.NbDialogRef},{type:n.NbIconLibraries}]},e.decorators=[{type:t.Component,args:[{selector:"do-dialog-icon",template:'<nb-card>\n  <nb-card-header>\n    {{ \'Choose Icon\' | translate }}\n  </nb-card-header>\n  <nb-card-body>\n    <nb-icon *ngFor="let icon of evaIcons" class="choose-icon" (click)="choose(icon)" [icon]="icon" pack="eva"></nb-icon>\n  </nb-card-body>\n</nb-card>\n',styles:["/*!\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */.nb-theme-default :host .choose-icon{margin:.75rem;cursor:pointer}.nb-theme-dark :host .choose-icon{margin:.75rem;cursor:pointer}.nb-theme-cosmic :host .choose-icon{margin:.75rem;cursor:pointer}.nb-theme-corporate :host .choose-icon{margin:.75rem;cursor:pointer}"]}]}],e.ctorParameters=function(){return[{type:n.NbDialogRef},{type:n.NbIconLibraries}]},e}(),he=function(e){function r(t,o){var n=e.call(this,t,{id:[],"en-US":[],"id-ID":[],root:[{value:[{selected:!0}],disabled:!1}],code:[{value:"N/A",disabled:!1}],icon:[],link:[{value:"#",disabled:!1}],home:[{value:[{selected:!1}],disabled:!1}],group:[{value:[{selected:!1}],disabled:!1}],parent:[],order:[]})||this;return n.injector=t,n.dialogService=o,n.nodeItems=[],n.options={mode:m.TreeMode.NoSelect,checkboxes:!1,alwaysEmitSelected:!0},n.allLocales=[],n.locales=[],n.localeDefault=new d.LocaleModel,n.action="Add",n.dialogAction="Edit",n.loadLocale=!1,n.title=null,n.apiSelectParent=n.api.security["select-main-menus"],n.isRoot=!0,n.isGroup=!1,n}return f(r,e),Object.defineProperty(r.prototype,"isRoot",{get:function(){return this.root},set:function(e){this.root=e,e?(this.formGroup.get("icon").enable(),this.formGroup.get("parent").disable(),this.formGroup.get("parent").setValue(null)):(this.formGroup.get("icon").disable(),this.formGroup.get("icon").setValue(null),this.formGroup.get("parent").enable())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isGroup",{get:function(){return this.group},set:function(e){this.group=e,e?(this.formGroup.get("root").disable(),this.formGroup.get("home").disable(),this.formGroup.get("code").disable(),this.formGroup.get("link").disable(),this.formGroup.get("icon").disable(),this.formGroup.get("parent").disable(),this.formGroup.get("root").setValue([{selected:!1}]),this.formGroup.get("home").setValue([{selected:!1}]),this.formGroup.get("code").setValue("N/A"),this.formGroup.get("link").setValue("#"),this.formGroup.get("icon").setValue(null),this.formGroup.get("parent").setValue(null)):(this.formGroup.get("root").enable(),this.formGroup.get("home").enable(),this.formGroup.get("code").enable(),this.formGroup.get("link").enable(),this.isRoot&&this.formGroup.get("icon").enable(),this.isRoot||this.formGroup.get("parent").enable())},enumerable:!1,configurable:!0}),r.prototype.ngOnInit=function(){},r.prototype.onCheckedRoot=function(e){this.isRoot=e[0].selected},r.prototype.onCheckedGroup=function(e){this.isGroup=e[0].selected},r.prototype.loadDataMenu=function(){var e=this;return this.loadLocale||(this.loadingForm=!0,this.http.HTTP_AUTH(this.api.master["all-locale"]).subscribe((function(t){e.splitLocale(t),e.loadLocale=!0,e.loadingForm=!1}))),this.http.HTTP_AUTH(this.api.security["get-tree-menus"],null,null,null,["main"]).pipe(p.map((function(t){e.nodeItems=[],e.nodeItems=b(e.nodeItems,t),e.onReset(),e.loadLocale&&(e.loadingForm=!1)})))},r.prototype.splitLocale=function(e){var t=this;this.allLocales=e,e.forEach((function(e){e.localeDefault?t.localeDefault=e:t.locales.push(e),t.formGroup.removeControl(e.localeCode),t.formGroup.addControl(e.localeCode,new o.FormControl)}))},r.prototype.onSearchIcon=function(){var e=this;this.dialogService.open(fe).onClose.subscribe((function(t){e.formGroup.get("icon").setValue(t),e.formGroup.get("icon").markAsDirty()}))},r.prototype.onSelectNode=function(e){var t=this;e.item&&(this.action="Edit",this.dialogAction=this.action,this.isRoot=0===e.item.level,this.isGroup=e.item.group,this.allLocales.forEach((function(o){t.formGroup.get(o.localeCode).setValue(e.item.i18n[o.localeCode]),o.localeDefault&&(t.title=e.item.i18n[o.localeCode])})),this.formGroup.get("group").setValue([{selected:this.isGroup}]),this.formGroup.get("root").setValue([{selected:this.isRoot}]),this.formGroup.get("home").setValue([{selected:e.item.home}]),this.formGroup.get("id").setValue(e.id),this.formGroup.get("code").setValue(e.item.code),this.formGroup.get("link").setValue(e.item.link),this.formGroup.get("icon").setValue(e.item.icon),this.formGroup.get("order").setValue(e.item.ordering),e.item.parentMenu&&this.formGroup.get("parent").setValue({label:e.item.parentMenu.title,value:e.item.parentMenu.id}))},r.prototype.onDeleteTree=function(e,t,o){this.dialogAction="Delete",this.node=e,this.context=t,this.dialogService.open(o,{context:"alert.delete"})},r.prototype.onSubmit=function(e){var t=this,o=null,n="N/A",r=null,a="#",i=0,l=!1,s=!1,p=1,d=!0,c={},u=null;this.formGroup.get("id").value&&(o=this.formGroup.get("id").value),this.formGroup.get("code").value&&(n=this.formGroup.get("code").value),this.formGroup.get("icon").value&&(r=this.formGroup.get("icon").value),this.formGroup.get("link").value&&(a=this.formGroup.get("link").value),this.formGroup.get("order").value&&(i=+this.formGroup.get("order").value),this.formGroup.get("home").value&&this.formGroup.get("home").value[0].selected&&(l=!0),this.formGroup.get("root").value&&this.formGroup.get("root").value[0].selected&&(p=0,d=!1),this.allLocales.forEach((function(e){c[e.localeCode]=t.formGroup.get(e.localeCode).value})),this.formGroup.get("parent").value&&this.formGroup.get("parent").value.value&&(u={id:this.formGroup.get("parent").value.value}),this.formGroup.get("group").value&&this.formGroup.get("group").value[0].selected&&(s=!0,l=!1,d=!1,p=0,u=null),this.data={id:o,code:n,icon:r,link:a,type:"main",level:p,ordering:i,home:l,group:s,leaf:d,i18n:c,parentMenu:u},"Edit"===this.action?this.dialogService.open(e,{context:"alert.edit"}):this.postMenu()},r.prototype.onSubmitDialog=function(e){"Delete"===this.dialogAction?this.deleteTreeMenu(e):this.postMenu(e)},r.prototype.onReset=function(){var e=this;this.disabled=!1,this.isRoot=!0,this.isGroup=!1,this.title=null,this.action="Add",this.allLocales.forEach((function(t){e.formGroup.get(t.localeCode).setValue(null)})),this.formGroup.get("group").setValue([{selected:this.isGroup}]),this.formGroup.get("root").setValue([{selected:this.isRoot}]),this.formGroup.get("home").setValue([{selected:!1}]),this.formGroup.get("id").setValue(null),this.formGroup.get("code").setValue("N/A"),this.formGroup.get("link").setValue("#"),this.formGroup.get("icon").setValue(null),this.formGroup.get("order").setValue(null),this.formGroup.get("parent").setValue(null)},r.prototype.deleteTreeMenu=function(e){var t=this;this.disabled=!0,this.http.HTTP_AUTH(this.api.security["delete-menu"],null,null,null,[this.node.id]).subscribe((function(o){e.close(),t.context.delete(),t.disabled=!1,t.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0),t.loadDataMenu().subscribe((function(){t.loadingForm=!1}))}),(function(e){t.disabled=!1,t.toastr.showI18n(e.respStatusMessage[e.respStatusCode],!0,null,"danger")}))},r.prototype.postMenu=function(t){var o=this;e.prototype.onSubmit.call(this,this.data,"security","post-menus").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_DEFAULT.toString()&&o.loadDataMenu().subscribe((function(){o.loadingForm=!1})),"Edit"===o.action&&t.close()}))},r.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService}]},r.decorators=[{type:t.Component,args:[{selector:"do-main-menu-page",template:'<div class="row">\n  <div class="col-md-4 col-lg-4 col-xxxl-6">\n    <tree-ngx\n      [nodeItems]="nodeItems"\n      [options]="options"\n      #treeMain>\n      <ng-template #nodeNameTemplate let-node="node" let-context="context">\n        <span\n          class="node-action"\n          [ngClass]="{\n            \'node-action\': !node.item.group,\n            \'node-action-group\': node.item.group\n          }"\n          [class.active]="context.active"\n          (click)="onSelectNode(node)">\n          {{node.name}}\n        </span>\n        <span class="tree-action">\n          <nb-icon\n              class="action-trash"\n              icon="close-square-outline"\n              (click)="onDeleteTree(node, context, dialogprocess)">\n          </nb-icon>\n        </span>\n      </ng-template>\n    </tree-ngx>\n  </div>\n  <div class="col-md-8 col-lg-8 col-xxxl-6">\n    <form [formGroup]="formGroup">\n      <div class="row">\n        <label\n          for="Title"\n          class="label col-sm-3 col-form-label"\n          *ngIf="!loadingForm; else labelskeleton">\n          {{\'Title\' | translate}}\n        </label>\n        <ng-template #labelskeleton>\n          <div class="col-sm-3">\n            <div\n              [ngClass]="{\n                \'label-skeleton\': true,\n                \'skeleton\': loadingForm\n              }">\n            </div>\n          </div>\n        </ng-template>\n        <div class="col-sm-9" *ngIf="loadLocale; else inputSkeleton">\n          <do-input-icon\n            [name]="localeDefault.localeCode"\n            [nolabel]="true"\n            [required]="true"\n            [colLabel]="0"\n            [colInput]="12"\n            [icon]="\'flag-icon flag-icon-\' + localeDefault.icon"\n            [skeleton]="loadingForm"\n            formControlName="{{localeDefault.localeCode}}">\n          </do-input-icon>\n        </div>\n        <ng-template #inputSkeleton>\n          <div class="col-sm-9">\n            <div\n              [ngClass]="{\n                \'input-skeleton\': true,\n                \'skeleton\': loadingForm\n              }">\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <do-input-icon *ngFor="let i18n of locales"\n        [name]="i18n.localeCode"\n        [nolabel]="true"\n        [icon]="\'flag-icon flag-icon-\'+ i18n.icon"\n        [skeleton]="loadingForm"\n        formControlName="{{i18n.localeCode}}">\n      </do-input-icon>\n      <do-checkbox\n        [name]="\'group\'"\n        [label]="\'Group\'"\n        [skeleton]="loadingForm"\n        [warnMessage]="\'warn.group-menu\'"\n        (onChecked)="onCheckedGroup($event)"\n        formControlName="group">\n      </do-checkbox>\n      <do-checkbox\n        [name]="\'root\'"\n        [label]="\'Root\'"\n        [skeleton]="loadingForm"\n        (onChecked)="onCheckedRoot($event)"\n        formControlName="root"\n        *ngIf="!isGroup">\n      </do-checkbox>\n      <do-checkbox\n        [name]="\'home\'"\n        [label]="\'Home\'"\n        [skeleton]="loadingForm"\n        formControlName="home"\n        *ngIf="!isGroup">\n      </do-checkbox>\n      <do-input-text\n        [name]="\'code\'"\n        [label]="\'Code\'"\n        [capslock]="true"\n        [required]="true"\n        [skeleton]="loadingForm"\n        formControlName="code"\n        *ngIf="!isGroup">\n      </do-input-text>\n      <do-input-text\n        [name]="\'link\'"\n        [label]="\'Link\'"\n        [required]="true"\n        [skeleton]="loadingForm"\n        formControlName="link"\n        *ngIf="!isGroup">\n      </do-input-text>\n      <do-input-icon\n        [name]="\'icon\'"\n        [label]="\'Icon\'"\n        [required]="true"\n        [skeleton]="loadingForm"\n        [icon]="\'search-outline\'"\n        [iconcursor]="true"\n        [eva]="true"\n        (clickIcon)="onSearchIcon()"\n        formControlName="icon"\n        *ngIf="(isRoot && !isGroup)">\n      </do-input-icon>\n      <do-select\n        [name]="\'parent\'"\n        [label]="\'Parent Menu\'"\n        [api]="apiSelectParent"\n        [searchable]="false"\n        [skeleton]="loadingForm"\n        [required]="true"\n        formControlName="parent"\n        *ngIf="(!isRoot && !isGroup)">\n      </do-select>\n      <do-input-text\n        [name]="\'order\'"\n        [label]="\'Order\'"\n        [required]="true"\n        [type]="\'number\'"\n        [max]="999"\n        [maxLength]="3"\n        [skeleton]="loadingForm"\n        formControlName="order">\n      </do-input-text>\n      <div class="form-group row">\n        <div class="offset-sm-3 col-sm-9" *ngIf="!loadingForm; else buttonSkeleton">\n          <button\n            type="button"\n            status="danger"\n            (click)="onReset()"\n            class="reset-left"\n            nbButton>\n            {{ \'Reset\' | translate}}\n          </button>\n          <button\n            type="submit"\n            status="primary"\n            (click)="onSubmit(dialogprocess)"\n            [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n            class="submit-right"\n            nbButton>\n            {{ action | translate}}\n          </button>\n        </div>\n        <ng-template #buttonSkeleton>\n          <div class="offset-sm-3 col-sm-9">\n            <div\n              [ngClass]="{\n                \'button-skeleton\': true,\n                \'skeleton\': loadingForm\n              }">\n            </div>\n          </div>\n        </ng-template>\n      </div>\n    </form>\n  </div>\n</div>\n\n<ng-template #dialogprocess let-data let-ref="dialogRef">\n  <nb-card accent="{{dialogAction === \'Delete\' ? \'danger\' : \'warning\'}}">\n    <nb-card-header>{{ \'Warning\' | translate}}</nb-card-header>\n    <nb-card-body>{{ data | translate}}</nb-card-body>\n    <nb-card-footer>\n      <div class="row">\n        <button\n          type="reset"\n          status="danger"\n          (click)="ref.close()"\n          class="reset-left-dialog"\n          nbButton>\n          {{ \'Cancel\' | translate}}\n        </button>\n        <button\n          type="submit"\n          status="primary"\n          (click)="onSubmitDialog(ref)"\n          [disabled]="disabled"\n          class="submit-right-dialog"\n          nbButton>\n          {{ dialogAction | translate}}\n        </button>\n      </div>\n    </nb-card-footer>\n  </nb-card>\n</ng-template>\n',encapsulation:t.ViewEncapsulation.None,styles:[".tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px solid #269}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:'';height:25px;transition:height .3s linear,max-height linear .3s;max-height:0}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility .3s,max-height .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455a64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455a64}.node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.node-action-group{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#8f9bb3;border-radius:0;cursor:pointer}.node-action-group:hover{background-color:transparent;color:#598bff;cursor:pointer}.tree-action{margin-left:.5rem;cursor:pointer}.action-trash:hover{color:#ff708d}.reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}.reset-left-dialog{margin-left:1rem;margin-right:.5rem}.submit-right-dialog{margin-left:.5rem}"]}]}],r.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService}]},r}(a.BaseFormComponent),be=function(e){function r(t,o){var n=e.call(this,t,{id:[],"en-US":[],"id-ID":[],code:[{value:"N/A",disabled:!1}],link:[{value:"#",disabled:!1}],order:[]})||this;return n.injector=t,n.dialogService=o,n.nodeItems=[],n.options={mode:m.TreeMode.NoSelect,checkboxes:!1,alwaysEmitSelected:!0},n.allLocales=[],n.locales=[],n.localeDefault=new d.LocaleModel,n.action="Add",n.dialogAction="Edit",n.loadLocale=!1,n.title=null,n}return f(r,e),r.prototype.ngOnInit=function(){},r.prototype.loadDataMenu=function(){var e=this;return this.loadLocale||(this.loadingForm=!0,this.http.HTTP_AUTH(this.api.master["all-locale"]).subscribe((function(t){e.splitLocale(t),e.loadLocale=!0,e.loadingForm=!1}))),this.http.HTTP_AUTH(this.api.security["get-tree-menus"],null,null,null,["extra"]).pipe(p.map((function(t){e.nodeItems=[],e.nodeItems=b(e.nodeItems,t),e.onReset(),e.loadLocale&&(e.loadingForm=!1)})))},r.prototype.splitLocale=function(e){var t=this;this.allLocales=e,e.forEach((function(e){e.localeDefault?t.localeDefault=e:t.locales.push(e),t.formGroup.removeControl(e.localeCode),t.formGroup.addControl(e.localeCode,new o.FormControl)}))},r.prototype.onSearchIcon=function(){var e=this;this.dialogService.open(fe).onClose.subscribe((function(t){e.formGroup.get("icon").setValue(t),e.formGroup.get("icon").markAsDirty()}))},r.prototype.onSelectNode=function(e){var t=this;e.item&&(this.action="Edit",this.dialogAction=this.action,this.allLocales.forEach((function(o){t.formGroup.get(o.localeCode).setValue(e.item.i18n[o.localeCode])})),this.formGroup.get("id").setValue(e.id),this.formGroup.get("code").setValue(e.item.code),this.formGroup.get("link").setValue(e.item.link),this.formGroup.get("order").setValue(e.item.ordering))},r.prototype.onDeleteTree=function(e,t,o){this.dialogAction="Delete",this.node=e,this.context=t,this.dialogService.open(o,{context:"alert.delete"})},r.prototype.onSubmit=function(e){var t=this,o=null,n="N/A",r="#",a=0,i={};this.formGroup.get("id").value&&(o=this.formGroup.get("id").value),this.formGroup.get("code").value&&(n=this.formGroup.get("code").value),this.formGroup.get("link").value&&(r=this.formGroup.get("link").value),this.formGroup.get("order").value&&(a=+this.formGroup.get("order").value),this.allLocales.forEach((function(e){i[e.localeCode]=t.formGroup.get(e.localeCode).value})),this.data={id:o,code:n,icon:null,link:r,type:"extra",level:0,ordering:a,home:!1,group:!1,leaf:!1,i18n:i,parentMenu:null},"Edit"===this.action?this.dialogService.open(e,{context:"alert.edit"}):this.postMenu()},r.prototype.onSubmitDialog=function(e){"Delete"===this.dialogAction?this.deleteTreeMenu(e):this.postMenu(e)},r.prototype.onReset=function(){var e=this;this.disabled=!1,this.title=null,this.action="Add",this.allLocales.forEach((function(t){e.formGroup.get(t.localeCode).setValue(null)})),this.formGroup.get("id").setValue(null),this.formGroup.get("code").setValue("N/A"),this.formGroup.get("link").setValue("#"),this.formGroup.get("order").setValue(null)},r.prototype.deleteTreeMenu=function(e){var t=this;this.disabled=!0,this.http.HTTP_AUTH(this.api.security["delete-menu"],null,null,null,[this.node.id]).subscribe((function(o){e.close(),t.context.delete(),t.disabled=!1,t.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0),t.loadDataMenu().subscribe((function(){t.loadingForm=!1}))}),(function(e){t.disabled=!1,t.toastr.showI18n(e.respStatusMessage[e.respStatusCode],!0,null,"danger")}))},r.prototype.postMenu=function(t){var o=this;e.prototype.onSubmit.call(this,this.data,"security","post-menus").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_DEFAULT.toString()&&o.loadDataMenu().subscribe((function(){o.loadingForm=!1})),"Edit"===o.action&&t.close()}))},r.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService}]},r.decorators=[{type:t.Component,args:[{selector:"do-extra-menu-page",template:'<div class="row">\n  <div class="col-md-4 col-lg-4 col-xxxl-6">\n    <tree-ngx\n      [nodeItems]="nodeItems"\n      [options]="options"\n      #treeExtra>\n      <ng-template #nodeNameTemplate let-node="node" let-context="context">\n        <span\n          class="node-action"\n          [class.active]="context.active"\n          (click)="onSelectNode(node)">\n          {{node.name}}\n        </span>\n        <span class="tree-action">\n          <nb-icon\n              class="action-trash"\n              icon="close-square-outline"\n              (click)="onDeleteTree(node, context, dialogprocessextra)">\n          </nb-icon>\n        </span>\n      </ng-template>\n    </tree-ngx>\n  </div>\n  <div class="col-md-8 col-lg-8 col-xxxl-6">\n    <form [formGroup]="formGroup">\n      <div class="row">\n        <label\n          for="Title"\n          class="label col-sm-3 col-form-label"\n          *ngIf="!loadingForm; else labelskeleton">\n          {{\'Title\' | translate}}\n        </label>\n        <ng-template #labelskeleton>\n          <div class="col-sm-3">\n            <div\n              [ngClass]="{\n                \'label-skeleton\': true,\n                \'skeleton\': loadingForm\n              }">\n            </div>\n          </div>\n        </ng-template>\n        <div class="col-sm-9" *ngIf="loadLocale; else inputSkeleton">\n          <do-input-icon\n            [name]="localeDefault.localeCode"\n            [nolabel]="true"\n            [required]="true"\n            [colLabel]="0"\n            [colInput]="12"\n            [icon]="\'flag-icon flag-icon-\' + localeDefault.icon"\n            [skeleton]="loadingForm"\n            formControlName="{{localeDefault.localeCode}}">\n          </do-input-icon>\n        </div>\n        <ng-template #inputSkeleton>\n          <div class="col-sm-9">\n            <div\n              [ngClass]="{\n                \'input-skeleton\': true,\n                \'skeleton\': loadingForm\n              }">\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <do-input-icon *ngFor="let i18n of locales"\n        [name]="i18n.localeCode"\n        [nolabel]="true"\n        [icon]="\'flag-icon flag-icon-\'+ i18n.icon"\n        [skeleton]="loadingForm"\n        formControlName="{{i18n.localeCode}}">\n      </do-input-icon>\n      <do-input-text\n        [name]="\'code\'"\n        [label]="\'Code\'"\n        [capslock]="true"\n        [required]="true"\n        [skeleton]="loadingForm"\n        formControlName="code">\n      </do-input-text>\n      <do-input-text\n        [name]="\'link\'"\n        [label]="\'Link\'"\n        [required]="true"\n        [skeleton]="loadingForm"\n        formControlName="link">\n      </do-input-text>\n      <do-input-text\n        [name]="\'order\'"\n        [label]="\'Order\'"\n        [required]="true"\n        [type]="\'number\'"\n        [max]="99"\n        [maxLength]="2"\n        [skeleton]="loadingForm"\n        formControlName="order">\n      </do-input-text>\n      <div class="form-group row">\n        <div class="offset-sm-3 col-sm-9" *ngIf="!loadingForm; else buttonSkeleton">\n          <button\n            type="button"\n            status="danger"\n            (click)="onReset()"\n            class="reset-left"\n            nbButton>\n            {{ \'Reset\' | translate}}\n          </button>\n          <button\n            type="submit"\n            status="primary"\n            (click)="onSubmit(dialogprocessextra)"\n            [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n            class="submit-right"\n            nbButton>\n            {{ action | translate}}\n          </button>\n        </div>\n        <ng-template #buttonSkeleton>\n          <div class="offset-sm-3 col-sm-9">\n            <div\n              [ngClass]="{\n                \'button-skeleton\': true,\n                \'skeleton\': loadingForm\n              }">\n            </div>\n          </div>\n        </ng-template>\n      </div>\n    </form>\n  </div>\n</div>\n\n<ng-template #dialogprocessextra let-data let-ref="dialogRef">\n  <nb-card accent="{{dialogAction === \'Delete\' ? \'danger\' : \'warning\'}}">\n    <nb-card-header>{{ \'Warning\' | translate}}</nb-card-header>\n    <nb-card-body>{{ data | translate}}</nb-card-body>\n    <nb-card-footer>\n      <div class="row">\n        <button\n          type="reset"\n          status="danger"\n          (click)="ref.close()"\n          class="reset-left-dialog"\n          nbButton>\n          {{ \'Cancel\' | translate}}\n        </button>\n        <button\n          type="submit"\n          status="primary"\n          (click)="onSubmitDialog(ref)"\n          [disabled]="disabled"\n          class="submit-right-dialog"\n          nbButton>\n          {{ dialogAction | translate}}\n        </button>\n      </div>\n    </nb-card-footer>\n  </nb-card>\n</ng-template>\n',encapsulation:t.ViewEncapsulation.None,styles:[".tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px solid #269}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:'';height:25px;transition:height .3s linear,max-height linear .3s;max-height:0}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility .3s,max-height .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455a64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455a64}.node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.tree-action{margin-left:.5rem;cursor:pointer}.action-trash:hover{color:#ff708d}.reset-left{margin-right:.25rem}.submit-right{margin-left:.25rem}.reset-left-dialog{margin-left:1rem;margin-right:.5rem}.submit-right-dialog{margin-left:.5rem}"]}]}],r.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService}]},r}(a.BaseFormComponent),ye=function(e){function o(t){var o=e.call(this,t)||this;return o.injector=t,o.loading=!1,o.tab="main",o.destroy$=new u.Subject,o}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.next(),this.destroy$.complete()},o.prototype.toggleLoadingAnimation=function(e){var t=this;this.tab=e.tabId,this.loading=!0,"main"===this.tab?this.mainMenu.loadDataMenu().pipe(p.takeUntil(this.destroy$)).subscribe((function(){t.loading=!1})):this.extraMenu.loadDataMenu().pipe(p.takeUntil(this.destroy$)).subscribe((function(){t.loading=!1}))},o.ctorParameters=function(){return[{type:t.Injector}]},o.decorators=[{type:t.Component,args:[{selector:"do-menu-list-page",template:'<do-page-outlet [header]="\'header.menu-management\'">\n  <nb-tabset fullWidth (changeTab)="toggleLoadingAnimation($event)" pagecontent>\n    <nb-tab tabId="main" tabTitle="{{\'tab.main-menu\' | translate}}">\n      <do-main-menu-page #mainMenu></do-main-menu-page>\n    </nb-tab>\n    <nb-tab tabId="extra" tabTitle="{{\'tab.extra-menu\' | translate}}" [lazyLoad]="true">\n      <do-extra-menu-page #extraMenu></do-extra-menu-page>\n    </nb-tab>\n  </nb-tabset>\n</do-page-outlet>\n',styles:[".nb-theme-default :host nb-tab{flex:1;padding:1.5rem .25rem!important}.nb-theme-dark :host nb-tab{flex:1;padding:1.5rem .25rem!important}.nb-theme-cosmic :host nb-tab{flex:1;padding:1.5rem .25rem!important}.nb-theme-corporate :host nb-tab{flex:1;padding:1.5rem .25rem!important}"]}]}],o.ctorParameters=function(){return[{type:t.Injector}]},o.propDecorators={mainMenu:[{type:t.ViewChild,args:["mainMenu",{static:!0}]}],extraMenu:[{type:t.ViewChild,args:["extraMenu",{static:!0}]}]},o}(a.BaseComponent),ve=[{path:"",component:ge,canActivateChild:[s.AuthGuardChildService],children:[{path:"",component:ye,data:{code:"#MANAGEMENT-MENU-PAGE"}}]}],xe=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.RouterModule.forChild(ve)],exports:[i.RouterModule]}]}],e}(),Ce=[ge,ye,he,be,fe],Ge=[fe],ke=[o.FormsModule,o.ReactiveFormsModule,n.NbCardModule,n.NbAlertModule,n.NbIconModule,n.NbDialogModule.forChild(),r.DoThemeModule,a.DoInputModule,a.DoCheckBoxModule,a.DoButtonModule,a.DoBaseModule,a.DoSelectModule,a.DoTableModule,n.NbTabsetModule,n.NbSpinnerModule,m.TreeNgxModule,xe],Se=[],we=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:b(ke),declarations:b(Ce),providers:b(Se),entryComponents:b(Ge)}]}],e}(),Ne=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"do-mgmt-function",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),Me=function(){function e(){}return e.prototype.getRole=function(){return this.role},e.prototype.setRole=function(e){this.role=e},e.decorators=[{type:t.Injectable}],e}(),De=function(e){function o(t,o,n){var r=e.call(this,t)||this;return r.injector=t,r.dialogService=o,r.functionControlService=n,r.nodeItems=[],r.options={mode:m.TreeMode.MultiSelect,checkboxes:!0,alwaysEmitSelected:!0},r.title=null,r.datas=[],r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.loadDataMenu=function(){var e=this;return this.disabled=!0,this.http.HTTP_AUTH(this.api.security["get-function-menus"],null,null,null,["main",this.functionControlService.getRole().authority]).pipe(p.map((function(t){e.datas=[],e.nodeItems=[],e.nodeItems=b(e.nodeItems,t)})))},o.prototype.onSelect=function(e){this.datas.length>0&&this.datas.length!==e.length&&(this.disabled=!1),this.datas=[],this.datas=b(this.datas,e)},o.prototype.onSubmit=function(e){this.dialogService.open(e,{context:"alert.edit"})},o.prototype.onSubmitDialog=function(e){this.postFunction(e)},o.prototype.postFunction=function(t){var o=this,n={type:"main"},r=[];n.authority=this.functionControlService.getRole().authority,this.datas.forEach((function(e){r.push(e.id),e.parentMenu.id&&(r.includes(e.parentMenu.id)||r.push(e.parentMenu.id))})),n.menus=r,e.prototype.onSubmit.call(this,n,"security","post-functions").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_DEFAULT.toString()&&o.loadDataMenu().subscribe(),t.close()}))},o.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService},{type:Me}]},o.decorators=[{type:t.Component,args:[{selector:"do-function-main-page",template:'<div class="row">\n  <div class="col-md-4 col-lg-4 col-xxxl-6">\n    <div class="row save-function">\n      <button\n        [size]="\'medium\'"\n        [shape]="\'rectangle\'"\n        [status]="\'danger\'"\n        [appearance]="\'ghost\'"\n        (click)="loadDataMenu().subscribe()"\n        nbButton>\n        <nb-icon [status]="\'danger\'" icon="corner-up-left" pack="eva"></nb-icon>\n        {{\'Reset\' | translate}}\n      </button>\n      <button\n        [size]="\'medium\'"\n        [shape]="\'rectangle\'"\n        [status]="\'primary\'"\n        [appearance]="\'ghost\'"\n        [disabled]="disabled"\n        [ngClass]="{\n          \'submit-right\': true\n        }"\n        (click)="onSubmit(dialogprocess)"\n        nbButton>\n        <nb-icon [status]="(disabled ? \'basic\' : \'primary\')" icon="save" pack="eva"></nb-icon>\n        {{\'Save\' | translate}}\n      </button>\n    </div>\n    <tree-ngx\n      (selectedItems)="onSelect($event)"\n      [nodeItems]="nodeItems"\n      [options]="options"\n      #treeMain>\n      <ng-template #nodeNameTemplate let-node="node" let-context="context">\n        <span\n          class="node-action"\n          [ngClass]="{\n            \'node-action\': !node.item.group,\n            \'node-action-group\': node.item.group\n          }">\n          {{node.name}}\n        </span>\n      </ng-template>\n    </tree-ngx>\n  </div>\n</div>\n\n<ng-template #dialogprocess let-data let-ref="dialogRef">\n  <nb-card accent="{{\'warning\'}}">\n    <nb-card-header>{{ \'Warning\' | translate}}</nb-card-header>\n    <nb-card-body>{{ data | translate}}</nb-card-body>\n    <nb-card-footer>\n      <div class="row">\n        <button\n          type="reset"\n          status="danger"\n          (click)="ref.close()"\n          class="reset-left-dialog"\n          nbButton>\n          {{ \'Cancel\' | translate}}\n        </button>\n        <button\n          type="submit"\n          status="primary"\n          (click)="onSubmitDialog(ref)"\n          [disabled]="disabled"\n          class="submit-right-dialog"\n          nbButton>\n          {{ \'Submit\' | translate}}\n        </button>\n      </div>\n    </nb-card-footer>\n  </nb-card>\n</ng-template>\n',encapsulation:t.ViewEncapsulation.None,styles:[".tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px solid #269}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:'';height:25px;transition:height .3s linear,max-height linear .3s;max-height:0}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility .3s,max-height .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455a64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455a64}.node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0}.node-action-group{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#8f9bb3;border-radius:0}.tree-action{margin-left:.5rem;cursor:pointer}.reset-left{margin-right:.25rem}.submit-right{margin-left:.5rem}.reset-left-dialog{margin-left:1rem;margin-right:.5rem}.submit-right-dialog{margin-left:.5rem}.save-function{margin:0 0 1rem 2rem}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService},{type:Me}]},o}(a.BaseFormComponent),Fe=function(e){function o(t,o,n){var r=e.call(this,t)||this;return r.injector=t,r.dialogService=o,r.functionControlService=n,r.nodeItems=[],r.options={mode:m.TreeMode.MultiSelect,checkboxes:!0,alwaysEmitSelected:!0},r.title=null,r.datas=[],r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.loadDataMenu=function(){var e=this;return this.disabled=!0,this.http.HTTP_AUTH(this.api.security["get-function-menus"],null,null,null,["extra",this.functionControlService.getRole().authority]).pipe(p.map((function(t){e.datas=[],e.nodeItems=[],e.nodeItems=b(e.nodeItems,t)})))},o.prototype.onSelect=function(e){this.datas.length>0&&this.datas.length!==e.length&&(this.disabled=!1),this.datas=[],this.datas=b(this.datas,e)},o.prototype.onSubmit=function(e){this.dialogService.open(e,{context:"alert.edit"})},o.prototype.onSubmitDialog=function(e){this.postFunction(e)},o.prototype.postFunction=function(t){var o=this,n={type:"extra"},r=[];n.authority=this.functionControlService.getRole().authority,this.datas.forEach((function(e){r.push(e.id),e.parentMenu.id&&(r.includes(e.parentMenu.id)||r.push(e.parentMenu.id))})),n.menus=r,e.prototype.onSubmit.call(this,n,"security","post-functions").pipe(p.takeUntil(this.destroy$)).subscribe((function(e){e.respStatusCode===d.ResponseCode.OK_DEFAULT.toString()&&o.loadDataMenu().subscribe(),t.close()}))},o.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService},{type:Me}]},o.decorators=[{type:t.Component,args:[{selector:"do-function-extra-page",template:'<div class="row">\n  <div class="col-md-4 col-lg-4 col-xxxl-6">\n    <div class="row save-function">\n      <button\n        [size]="\'medium\'"\n        [shape]="\'rectangle\'"\n        [status]="\'danger\'"\n        [appearance]="\'ghost\'"\n        (click)="loadDataMenu().subscribe()"\n        nbButton>\n        <nb-icon [status]="\'danger\'" icon="corner-up-left" pack="eva"></nb-icon>\n        {{\'Reset\' | translate}}\n      </button>\n      <button\n        [size]="\'medium\'"\n        [shape]="\'rectangle\'"\n        [status]="\'primary\'"\n        [appearance]="\'ghost\'"\n        [disabled]="disabled"\n        [ngClass]="{\n          \'submit-right\': true\n        }"\n        (click)="onSubmit(dialogprocess)"\n        nbButton>\n        <nb-icon [status]="(disabled ? \'basic\' : \'primary\')" icon="save" pack="eva"></nb-icon>\n        {{\'Save\' | translate}}\n      </button>\n    </div>\n    <tree-ngx\n      (selectedItems)="onSelect($event)"\n      [nodeItems]="nodeItems"\n      [options]="options"\n      #treeExtra>\n      <ng-template #nodeNameTemplate let-node="node" let-context="context">\n        <span\n          class="node-action"\n          [ngClass]="{\n            \'node-action\': !node.item.group\n          }">\n          {{node.name}}\n        </span>\n      </ng-template>\n    </tree-ngx>\n  </div>\n</div>\n\n<ng-template #dialogprocess let-data let-ref="dialogRef">\n  <nb-card accent="{{\'warning\'}}">\n    <nb-card-header>{{ \'Warning\' | translate}}</nb-card-header>\n    <nb-card-body>{{ data | translate}}</nb-card-body>\n    <nb-card-footer>\n      <div class="row">\n        <button\n          type="reset"\n          status="danger"\n          (click)="ref.close()"\n          class="reset-left-dialog"\n          nbButton>\n          {{ \'Cancel\' | translate}}\n        </button>\n        <button\n          type="submit"\n          status="primary"\n          (click)="onSubmitDialog(ref)"\n          [disabled]="disabled"\n          class="submit-right-dialog"\n          nbButton>\n          {{ \'Submit\' | translate}}\n        </button>\n      </div>\n    </nb-card-footer>\n  </nb-card>\n</ng-template>\n',encapsulation:t.ViewEncapsulation.None,styles:[".tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px solid #269}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:'';height:25px;transition:height .3s linear,max-height linear .3s;max-height:0}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility .3s,max-height .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455a64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455a64}.node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0}.tree-action{margin-left:.5rem}.reset-left{margin-right:.25rem}.submit-right{margin-left:.5rem}.reset-left-dialog{margin-left:1rem;margin-right:.5rem}.submit-right-dialog{margin-left:.5rem}.save-function{margin:0 0 1rem 2rem}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:n.NbDialogService},{type:Me}]},o}(a.BaseFormComponent),Ie=function(e){function o(t,o,n){var r=e.call(this,t)||this;return r.injector=t,r.router=o,r.functionControlService=n,r.loading=!1,r.tab="main",r.destroy$=new u.Subject,n.getRole()?r.title=n.getRole().description:r.router.navigate(["/app/mgmt/function/control"]),r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.next(),this.destroy$.complete()},o.prototype.toggleLoadingAnimation=function(e){var t=this;this.functionControlService.getRole()?(this.tab=e.tabId,this.loading=!0,"main"===this.tab?this.mainMenu.loadDataMenu().pipe(p.takeUntil(this.destroy$)).subscribe((function(){t.loading=!1})):this.extraMenu.loadDataMenu().pipe(p.takeUntil(this.destroy$)).subscribe((function(){t.loading=!1}))):this.router.navigate(["/app/mgmt/function/control"])},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:Me}]},o.decorators=[{type:t.Component,args:[{selector:"do-function-editor-page",template:'<do-page-outlet [header]="\'header.function-control\'" [param]="{value: title}">\n  <nb-tabset fullWidth (changeTab)="toggleLoadingAnimation($event)" pagecontent>\n    <nb-tab tabId="main" tabTitle="{{\'tab.main-menu\' | translate}}" [nbSpinner]="loading" nbSpinnerStatus="info" nbSpinnerSize="giant">\n      <do-function-main-page #mainFunction></do-function-main-page>\n    </nb-tab>\n    <nb-tab tabId="extra" tabTitle="{{\'tab.extra-menu\' | translate}}" [lazyLoad]="true" [nbSpinner]="loading" nbSpinnerStatus="info" nbSpinnerSize="giant">\n      <do-function-extra-page #extraFunction></do-function-extra-page>\n    </nb-tab>\n  </nb-tabset>\n</do-page-outlet>\n',styles:[".nb-theme-default :host nb-tab{flex:1;padding:1.5rem .25rem!important}.nb-theme-dark :host nb-tab{flex:1;padding:1.5rem .25rem!important}.nb-theme-cosmic :host nb-tab{flex:1;padding:1.5rem .25rem!important}.nb-theme-corporate :host nb-tab{flex:1;padding:1.5rem .25rem!important}"]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:Me}]},o.propDecorators={mainMenu:[{type:t.ViewChild,args:["mainFunction",{static:!0}]}],extraMenu:[{type:t.ViewChild,args:["extraFunction",{static:!0}]}]},o}(a.BaseComponent),Ae=function(e){function o(t,o,n){var r=e.call(this,t,{authority:[],description:[]})||this;return r.injector=t,r.router=o,r.functionControlService=n,r.selectionType=l.SelectionType.single,r.columns=[{name:"Authority",prop:"authority"},{name:"Description",prop:"description"}],r.expanded=!1,r.apiPath=r.api.security["datatable-role"],r.filters=[{controlName:"authority",type:"input"},{controlName:"description",type:"input"}],r}return f(o,e),o.prototype.ngOnInit=function(){},o.prototype.onViewDetail=function(e){this.functionControlService.setRole(e),this.router.navigate(["/app/mgmt/function/control","edit"])},o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:Me}]},o.decorators=[{type:t.Component,args:[{selector:"do-function-list-page",template:'<do-page-outlet [header]="\'header.function-control-list\'">\n  <div class="row" pagecontent>\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <do-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [add]="false"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <do-input-text\n            [name]="\'authority\'"\n            [label]="\'Authority\'"\n            formControlName="authority">\n          </do-input-text>\n          <do-input-text\n            [name]="\'description\'"\n            [label]="\'Description\'"\n            formControlName="description">\n          </do-input-text>\n        </form>\n      </do-datatable>\n    </div>\n  </div>\n</do-page-outlet>\n',styles:[""]}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:i.Router},{type:Me}]},o}(a.BaseFilterComponent),Re=[{path:"",component:Ne,canActivateChild:[s.AuthGuardChildService],children:[{path:"",component:Ae,data:{code:"#MANAGEMENT-FUNCTION-CONTROL-PAGE"}},{path:":action",component:Ie,data:{code:"#MANAGEMENT-FUNCTION-CONTROL-PAGE"}}]}],Pe=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.RouterModule.forChild(Re)],exports:[i.RouterModule]}]}],e}(),Te=[Ne,Ae,Ie,De,Fe],Le=[o.FormsModule,o.ReactiveFormsModule,n.NbCardModule,n.NbAlertModule,n.NbIconModule,n.NbDialogModule.forChild(),n.NbTabsetModule,n.NbSpinnerModule,m.TreeNgxModule,r.DoThemeModule,a.DoInputModule,a.DoCheckBoxModule,a.DoButtonModule,a.DoBaseModule,a.DoSelectModule,a.DoTableModule,Pe],Ee=[Me],je=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:b(Le),declarations:b(Te),providers:b(Ee)}]}],e}();e.DoLocaleModule=F,e.DoMgmtFunctionModule=je,e.DoMgmtMenuModule=we,e.DoMgmtRoleModule=me,e.DoMgmtUserModule=ne,e.DoParameterModule=q,e.a=S,e.b=y,e.ba=xe,e.bb=ge,e.bc=ye,e.bd=he,e.be=be,e.bf=fe,e.bg=Pe,e.bh=Ne,e.bi=Ae,e.bj=Me,e.bk=Ie,e.bl=De,e.bm=Fe,e.c=x,e.d=v,e.e=G,e.f=C,e.g=O,e.h=I,e.i=R,e.j=A,e.k=P,e.l=j,e.m=B,e.n=E,e.o=X,e.p=H,e.q=K,e.r=_,e.s=W,e.t=Y,e.u=J,e.v=pe,e.w=re,e.x=ie,e.y=ae,e.z=le,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=dongkap-do-sys.umd.min.js.map